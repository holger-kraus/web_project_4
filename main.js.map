{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Card.js","webpack:///./src/components/FormValidator.js","webpack:///./src/components/Popup.js","webpack:///./src/components/PopupWithImage.js","webpack:///./src/components/PopupWithForm.js","webpack:///./src/components/UserInfo.js","webpack:///./src/components/Section.js","webpack:///./src/pages/index.js","webpack:///./src/components/Api.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Card","cardId","profileId","imageTitle","imageLink","likedByList","cardSelector","handleCardClick","handleRemoveCard","handleLike","handleDislike","this","_cardId","_profileId","_imageTitle","_imageLink","_cardSelector","_handleCardClick","_handleRemoveCard","_likedByList","_handleLike","_handleDislike","_element","_getTemplate","document","querySelector","content","cloneNode","addEventListener","event","stopPropagation","preventDefault","thisCard","target","classList","contains","elementLikeCount","elementLikeButton","textContent","length","add","remove","_setElementEventListener","_setRemoveButtonEventListener","_setLikeButtonEventListener","elementTitle","style","backgroundImage","includes","FormValidator","form","settings","_settings","_form","inputElement","errorMessage","errorElement","id","inputErrorClass","errorClass","validity","valid","_hideInputError","_showInputError","validationMessage","inputList","some","buttonElement","_hasInvalidInput","inactiveButtonClass","setAttribute","removeAttribute","Array","from","querySelectorAll","inputSelector","submitButtonSelector","outerThis","forEach","_checkInputValidity","_toggleButtonState","_setEventListeners","Popup","popupSelector","_popup","close","_handleEscClose","PopupWithImage","title","link","image","src","alt","PopupWithForm","submitButtonLoadingText","handleFormSubmission","_handleFormSubmission","_submitButton","_submitButtonText","_submitButtonLoadingText","elements","map","element","isLoading","renderLoading","_getInputValues","initValues","formElements","dispatchEvent","Event","reset","UserInfo","nameSelector","aboutMeSelector","avatarSelector","_name","_aboutMe","_avatar","aboutMe","aboutme","userId","avatarLink","Section","containerSelector","items","renderer","_items","_renderer","_container","_elementMap","Map","elementId","set","prepend","delete","item","api","options","baseUrl","headers","profileUri","concat","_getResource","about","body","JSON","stringify","_sendRequestWithBody","avatar","cardsUri","cardUri","_sendRequestWithoutBody","likeUri","uri","fetch","then","res","ok","json","Promise","reject","status","method","validationSettings","formSelector","imagePopup","setEventListeners","cardList","profile","editButton","addButton","profileAvatarButton","userInfo","profileFormPopup","finalAction","updateProfile","updatedProfile","setUserInfo","catch","err","console","log","finally","enableValidation","profileAvatarFormPopup","updateProfilePicture","setAvatar","confirmationFormPopup","deleteCard","removeItem","card","addLike","updatedCard","likes","like","_id","deleteLike","removeLike","addCard","newCard","open","generateCard","setItem","placeFormPopup","getUserInfo","all","getProfile","getInitialCards","currentProfile","cards","setUserId"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class Card {\n  constructor(cardId, profileId, imageTitle, imageLink, likedByList, cardSelector,\n              handleCardClick, handleRemoveCard, handleLike, handleDislike) {\n    this._cardId = cardId;\n    this._profileId = profileId;\n    this._imageTitle = imageTitle;\n    this._imageLink = imageLink;\n    this._cardSelector = cardSelector;\n    this._handleCardClick = handleCardClick;\n    this._handleRemoveCard = handleRemoveCard;\n    this._likedByList = likedByList;\n    this._handleLike = handleLike;\n    this._handleDislike = handleDislike;\n    this._element = this._getTemplate();\n  }\n\n  _getTemplate() {\n    return document\n      .querySelector(this._cardSelector)\n      .content\n      .querySelector(\".element\")\n      .cloneNode(true);\n  }\n\n  _setElementEventListener() {\n    this._element.addEventListener(\"click\", (event) => {\n      this._handleCardClick(this._imageTitle, this._imageLink);\n      event.stopPropagation();\n    });\n  }\n\n  _setRemoveButtonEventListener() {\n    const removeButton = this._element.querySelector(\".element__remove\");\n    removeButton.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      this._handleRemoveCard(this._cardId);\n      event.stopPropagation();\n    });\n  }\n\n  _setLikeButtonEventListener() {\n    const thisCard = this;\n    const likeButton = this._element.querySelector(\".element__like-button\");\n    likeButton.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      const clickedButton = event.target;\n      if (clickedButton.classList.contains(\"element__like_liked\")) {\n        this._handleDislike(this._cardId, thisCard);\n      } else {\n        this._handleLike(this._cardId, thisCard);\n      }\n      event.stopPropagation();\n    });\n  }\n\n  addLike(likedByList) {\n    this._likedByList = likedByList;\n    const elementLikeCount = this._element.querySelector(\".element__like-count\");\n    const elementLikeButton = this._element.querySelector(\".element__like-button\");\n    elementLikeCount.textContent = this._likedByList.length;\n    elementLikeButton.classList.add(\"element__like_liked\");\n  }\n\n  removeLike(likedByList) {\n    this._likedByList = likedByList;\n    const elementLikeCount = this._element.querySelector(\".element__like-count\");\n    const elementLikeButton = this._element.querySelector(\".element__like-button\");\n    elementLikeCount.textContent = this._likedByList.length;\n    elementLikeButton.classList.remove(\"element__like_liked\");\n  }\n\n  generateCard() {\n    this._setElementEventListener();\n    this._setRemoveButtonEventListener();\n    this._setLikeButtonEventListener();\n\n    const elementTitle = this._element.querySelector(\".element__title\");\n    const elementLikeCount = this._element.querySelector(\".element__like-count\");\n    const elementLikeButton = this._element.querySelector(\".element__like-button\");\n    this._element.style.backgroundImage = `url('${this._imageLink}')`;\n    elementTitle.textContent = this._imageTitle;\n    elementLikeCount.textContent = this._likedByList.length;\n\n    // check if the profile owner liked the card before\n    // and adjust the like button accordingly\n    if (this._likedByList.includes(this._profileId)) {\n      elementLikeButton.classList.add(\"element__like_liked\");\n    }\n\n    return this._element;\n  }\n}\n","export default class FormValidator {\n  constructor(form, settings) {\n    this._settings = settings;\n    this._form = form;\n  }\n\n  _showInputError(inputElement, errorMessage) {\n    const errorElement = this._form.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.add(this._settings.inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._settings.errorClass);\n  }\n\n  _hideInputError(inputElement) {\n    const errorElement = this._form.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.remove(this._settings.inputErrorClass);\n    errorElement.classList.remove(this._settings.errorClass);\n    errorElement.textContent = \"\";\n  }\n\n  _checkInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      this._showInputError(inputElement, inputElement.validationMessage);\n    } else {\n      this._hideInputError(inputElement);\n    }\n  }\n\n  _hasInvalidInput(inputList) {\n    return inputList.some((inputElement) => {\n      return !inputElement.validity.valid;\n    });\n  }\n\n  _toggleButtonState(inputList, buttonElement) {\n    if (this._hasInvalidInput(inputList)) {\n      buttonElement.classList.add(this._settings.inactiveButtonClass);\n      buttonElement.setAttribute(\"disabled\", true);\n    } else {\n      buttonElement.classList.remove(this._settings.inactiveButtonClass);\n      buttonElement.removeAttribute(\"disabled\");\n    }\n  }\n\n  _setEventListeners() {\n    const inputList = Array.from(this._form.querySelectorAll(this._settings.inputSelector));\n    const buttonElement = this._form.querySelector(this._settings.submitButtonSelector);\n    const outerThis = this;\n\n    inputList.forEach((inputElement) => {\n      inputElement.addEventListener(\"input\", () => {\n        outerThis._checkInputValidity(inputElement);\n        outerThis._toggleButtonState(inputList, buttonElement);\n      });\n    });\n  }\n\n  enableValidation() {\n    this._setEventListeners();\n  }\n}\n","export default class Popup {\n  constructor(popupSelector) {\n    this._popup = document.querySelector(popupSelector);\n  }\n\n  _handleEscClose(event) {\n    if (event.key === \"Escape\") {\n     this.close();\n     event.stopPropagation();\n    }\n  }\n\n  open() {\n    this._popup.classList.add(\"overlay_opened\");\n  }\n\n  close() {\n    this._popup.classList.remove(\"overlay_opened\");\n  }\n\n  setEventListeners() {\n    this._popup.addEventListener(\"click\", (event) => {\n      this.close();\n      event.stopPropagation();\n    });\n\n    const closeButton = this._popup.querySelector(\".overlay__close-button\");\n    closeButton.addEventListener(\"click\", (event) => {\n      this.close();\n      event.stopPropagation();\n    });\n\n    this._popup.addEventListener(\"keydown\", (event) => {\n      this._handleEscClose(event);\n    });\n  }\n}\n","import Popup from \"./Popup.js\";\n\nexport default class PopupWithImage extends Popup {\n\n  constructor(popupSelector) {\n    super(popupSelector);\n  }\n\n  open(title, link) {\n    const image = this._popup.querySelector(\".image\");\n    const imageTitle = this._popup.querySelector(\".image__title\");\n\n    image.src = link;\n    image.alt =  title;\n    imageTitle.textContent =  title;\n    super.open();\n  }\n\n}\n","import Popup from \"./Popup.js\";\n\nexport default class PopupWithForm extends Popup {\n\n  constructor(popupSelector, submitButtonLoadingText, handleFormSubmission) {\n    super(popupSelector);\n    this._handleFormSubmission = handleFormSubmission;\n    this._form = this._popup.querySelector(\".form\");\n\n    this._submitButton = this._popup.querySelector(\".form__save\");\n    this._submitButtonText = this._submitButton.textContent;\n    this._submitButtonLoadingText = submitButtonLoadingText;\n\n  }\n\n  _getInputValues() {\n    const formElements = Array.from(this._form.elements);\n    return formElements.map((element) => element.value);\n  }\n\n  renderLoading(isLoading) {\n    if (isLoading) {\n      this._submitButton.textContent =  this._submitButtonLoadingText;\n    } else {\n      this._submitButton.textContent = this._submitButtonText;\n    }\n  }\n\n  setEventListeners() {\n    super.setEventListeners();\n    this._form.addEventListener(\"submit\", (event) => {\n      event.preventDefault();\n      this.renderLoading(true);\n      this._handleFormSubmission(this._getInputValues(), () => {\n        this.renderLoading(false);\n        this.close();\n      });\n    });\n    this._form.addEventListener(\"click\", (event) => event.stopPropagation());\n  }\n\n  open(initValues) {\n    const formElements = Array.from(this._form.elements);\n    for (let i = 0; i < formElements.length; i++) {\n      formElements[i].value = initValues[i];\n      formElements[i].dispatchEvent(new Event(\"input\"));\n    }\n    super.open();\n  }\n\n  close() {\n    super.close();\n    this._form.reset();\n  }\n}\n","export default class UserInfo {\n\n  constructor(nameSelector, aboutMeSelector, avatarSelector) {\n    this._name = document.querySelector(nameSelector);\n    this._aboutMe = document.querySelector(aboutMeSelector);\n    this._avatar = document.querySelector(avatarSelector);\n  }\n\n  getUserInfo() {\n    return {\n      name: this._name.textContent,\n      aboutMe: this._aboutMe.textContent\n    };\n  }\n\n  setUserInfo(name, aboutme) {\n    this._name.textContent = name;\n    this._aboutMe.textContent = aboutme;\n  }\n\n  setUserId(userId) {\n    this.userId = userId;\n  }\n\n  setAvatar(avatarLink) {\n    this._avatar.src = avatarLink;\n  }\n}\n","export default class Section {\n\n  constructor({ items, renderer }, containerSelector) {\n    this._items = items;\n    this._renderer = renderer;\n    this._container = document.querySelector(containerSelector);\n    this._elementMap = new Map();\n  }\n\n  setItem(elementId, element) {\n    this._elementMap.set(elementId, element);\n    this._container.prepend(element);\n  }\n\n  removeItem(elementId) {\n    this._elementMap.get(elementId).remove();\n    this._elementMap.delete(elementId);\n  }\n\n  renderItems() {\n    this._items.forEach((item) => {\n      this._renderer(item);\n    });\n  }\n}\n","import \"./index.css\";\n\nimport Card from \"../components/Card.js\";\nimport FormValidator from \"../components/FormValidator.js\";\nimport PopupWithImage from \"../components/PopupWithImage.js\";\nimport PopupWithForm from \"../components/PopupWithForm.js\";\nimport UserInfo from \"../components/UserInfo.js\";\nimport Section from \"../components/Section.js\";\nimport Api from \"../components/Api.js\";\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n  headers: {\n    \"Authorization\": \"cf0daf24-499f-4e4d-a691-bc6825f65b5e\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// validation settings\nconst validationSettings = {\n  formSelector: \".form\",\n  inputSelector: \".form__field\",\n  submitButtonSelector: \".form__save\",\n  inactiveButtonClass: \"form__save_inactive\",\n  inputErrorClass: \"form__field_error\",\n  errorClass: \"form__field-error_active\"\n}\n\n// overlay image elements\nconst imagePopup = new PopupWithImage(\".overlay_image\");\nimagePopup.setEventListeners();\n\n// create section\nconst cardList = new Section({\n  items: [], renderer: () => {\n  }\n}, \".elements__list\");\n\n// profile elements\nconst profile = document.querySelector(\".profile\");\nconst editButton = profile.querySelector(\".profile__edit-button\");\nconst addButton = profile.querySelector(\".profile__add-button\");\nconst profileAvatarButton = profile.querySelector(\".profile__avatar\");\nconst userInfo = new UserInfo(\".profile__name\", \".profile__about-me\", \".profile__avatar-image\");\n\n// overlay profile description\nconst handleProfileSubmit = ([name, about], finalAction) => {\n  api.updateProfile(name, about)\n    .then((updatedProfile) => {\n      userInfo.setUserInfo(updatedProfile.name, updatedProfile.about);\n    }).catch((err) => {\n    console.log(err);\n  }).finally(finalAction);\n};\nconst profileFormPopup = new PopupWithForm(\".overlay_profile\", \"Saving...\", handleProfileSubmit);\nprofileFormPopup.setEventListeners();\n\nconst profileOverlayContainer = document.querySelector(\".overlay__container_profile\");\nconst profileForm = profileOverlayContainer.querySelector(\".form\");\nnew FormValidator(profileForm, validationSettings).enableValidation();\n\n// overlay profile avatar\nconst handleProfileAvatarSubmit = ([link], finalAction) => {\n  api.updateProfilePicture(link)\n    .then((updatedProfile) => {\n      userInfo.setAvatar(updatedProfile.avatar);\n    }).catch((err) => {\n    console.log(err);\n  }).finally(finalAction);\n};\nconst profileAvatarFormPopup = new PopupWithForm(\".overlay_avatarpic \", \"Saving...\", handleProfileAvatarSubmit);\nprofileAvatarFormPopup.setEventListeners();\n\nconst profileAvatarContainer = document.querySelector(\".overlay__container_avatarpic\");\nconst profileAvatarForm = profileAvatarContainer.querySelector(\".form\");\nnew FormValidator(profileAvatarForm, validationSettings).enableValidation();\n\nconst deleteCard = ([cardId], finalAction) => {\n  api.deleteCard(cardId)\n    .then(() => {\n      cardList.removeItem(cardId)\n    }).catch((err) => {\n    console.log(err);\n  }).finally(() => {\n      finalAction();\n    }\n  );\n}\nconst confirmationFormPopup = new PopupWithForm(\".overlay_confirmation\", \"Deleting...\", deleteCard);\nconfirmationFormPopup.setEventListeners();\n\nconst handleLike = (cardId, card) => {\n  api.addLike(cardId).then((updatedCard) => {\n    const likedByList = updatedCard.likes.map((like) => like._id);\n    card.addLike(likedByList);\n  })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\nconst handleDislike = (cardId, card) => {\n  api.deleteLike(cardId).then((updatedCard) => {\n    const likedByList = updatedCard.likes.map((like) => like._id);\n    card.removeLike(likedByList);\n  })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// overlay place elements\nconst addCard = (cardId, title, link, likedByList) => {\n  const handleCardClick = (imageTitle, imageLink) => {\n    imagePopup.open(imageTitle, imageLink);\n  };\n  const handleRemoveCard = (card) => {\n    confirmationFormPopup.open([card]);\n  }\n  const newCard = new Card(cardId, userInfo.userId, title, link, likedByList, \"#element__template\", handleCardClick, handleRemoveCard, handleLike, handleDislike).generateCard();\n  cardList.setItem(cardId, newCard);\n};\n\nconst handlePlaceSubmit = ([name, link], finalAction) => {\n  api.addCard(name, link)\n    .then((card) => {\n      const likedByList = card.likes.map((like) => like._id);\n      addCard(card._id, card.name, card.link, likedByList);\n    }).catch((err) => {\n    console.log(err);\n  }).finally(finalAction);\n}\nconst placeFormPopup = new PopupWithForm(\".overlay_place\", \"Saving...\", handlePlaceSubmit);\nplaceFormPopup.setEventListeners();\n\nconst placeOverlayContainer = document.querySelector(\".overlay__container_place\");\nconst placeForm = placeOverlayContainer.querySelector(\".form\");\nnew FormValidator(placeForm, validationSettings).enableValidation();\n\n// register open form listeners\neditButton.addEventListener(\"click\", () => {\n  const {name, aboutMe} = userInfo.getUserInfo();\n  profileFormPopup.open([name, aboutMe]);\n});\n\naddButton.addEventListener(\"click\", () => {\n  placeFormPopup.open([null, null]);\n});\n\nprofileAvatarButton.addEventListener(\"click\", () => {\n  profileAvatarFormPopup.open([\"\", \"\"])\n})\n\n// load profile and intial cards in parallel to increase speed\n// but also assuring that we have the profile id when we create the cards\nPromise.all([api.getProfile(), api.getInitialCards()])\n  .then(([currentProfile, cards]) => {\n    userInfo.setUserInfo(currentProfile.name, currentProfile.about);\n    userInfo.setAvatar(currentProfile.avatar);\n    userInfo.setUserId(currentProfile._id);\n\n    cards.forEach((card) => {\n      const likedByList = card.likes.map((like) => like._id);\n      addCard(card._id, card.name, card.link, likedByList);\n    });\n  }\n).catch((err) => {\n  console.log(err);\n});\n\n\n","export default class Api {\n\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getProfile() {\n    const profileUri = this.baseUrl.concat(\"/users/me\");\n    return this._getResource(profileUri);\n  }\n\n  updateProfile(name, about) {\n    const profileUri = this.baseUrl.concat(\"/users/me\");\n    const body = JSON.stringify({\n      name: name,\n      about: about\n    });\n    return this._sendRequestWithBody(profileUri, body, \"PATCH\");\n  }\n\n  updateProfilePicture(avatarLink) {\n    const profileUri = this.baseUrl.concat(\"/users/me/avatar\");\n    const body = JSON.stringify({\n      avatar: avatarLink\n    });\n    return this._sendRequestWithBody(profileUri, body, \"PATCH\");\n  }\n\n  getInitialCards() {\n    const cardsUri = this.baseUrl.concat(\"/cards\");\n    return this._getResource(cardsUri);\n  }\n\n  addCard(name, link) {\n    const cardsUri = this.baseUrl.concat(\"/cards\");\n    const body = JSON.stringify( {\n      name: name,\n      link: link\n    });\n    return this._sendRequestWithBody(cardsUri, body, \"POST\");\n  }\n\n  deleteCard(cardId) {\n    const cardUri = this.baseUrl.concat(\"/cards/\").concat(cardId);\n    return this._sendRequestWithoutBody(cardUri, \"DELETE\");\n  }\n\n  addLike(cardId) {\n    const likeUri = this.baseUrl.concat(\"/cards/likes/\").concat(cardId);\n    return this._sendRequestWithoutBody(likeUri, \"PUT\");\n  }\n\n  deleteLike(cardId) {\n    const likeUri = this.baseUrl.concat(\"/cards/likes/\").concat(cardId);\n    return this._sendRequestWithoutBody(likeUri, \"DELETE\");\n  }\n\n  _getResource(uri) {\n    return fetch(uri, {\n      headers: this.headers\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    });\n  }\n\n  _sendRequestWithoutBody(uri, method) {\n    return fetch(uri, {\n      method: method,\n      headers: this.headers\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    });\n  }\n\n  _sendRequestWithBody(uri, body, method) {\n    return fetch(uri, {\n      method: method,\n      headers: this.headers,\n      body: body\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    });\n  }\n}\n"],"sourceRoot":""}